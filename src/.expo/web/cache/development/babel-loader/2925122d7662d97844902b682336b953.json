{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\katri\\\\OneDrive\\\\Documents\\\\GitHub\\\\HabiPets\\\\src\\\\frontend\\\\screens\\\\Profile.js\";\nimport React, { useEffect, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport profileStyles from \"../styling/Profile\";\nimport MenuHeader from \"../components/MenuHeader\";\nimport { AuthContext } from \"../Context\";\nimport { useTheme } from '@react-navigation/native';\nimport BottomPopup from \"../components/BottomPopup\";\nimport Colours from \"../resources/themes/Colours\";\n\nfunction ProfileEdit(props) {\n  var _this = this;\n\n  var popup = React.useRef();\n\n  var _React$useState = React.useState('default'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      userName = _React$useState2[0],\n      setUserName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      email = _React$useState4[0],\n      setEmail = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      about = _React$useState6[0],\n      setAbout = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      createdAt = _React$useState8[0],\n      setCreatedAt = _React$useState8[1];\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      error = _React$useState10[0],\n      setError = _React$useState10[1];\n\n  var _React$useState11 = React.useState(''),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      message = _React$useState12[0],\n      setMessage = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      userFocused = _React$useState14[0],\n      setFocused = _React$useState14[1];\n\n  var _React$useState15 = React.useState(Colours.Red.Error),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      color = _React$useState16[0],\n      setColor = _React$useState16[1];\n\n  var _useContext = useContext(AuthContext),\n      getToken = _useContext.getToken;\n\n  var _useTheme = useTheme(),\n      colors = _useTheme.colors;\n\n  var styles = profileStyles(colors, Dimensions.get('screen').width, Dimensions.get('screen').height);\n\n  function formatDate(date) {\n    return date.getMonth() + 1 + '/' + date.getDate() + '/' + date.getFullYear();\n  }\n\n  useEffect(function () {\n    var get = function get() {\n      fetch('http://localhost:5000/api/v1.0.0/user/viewAccount', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'authentication-token': getToken\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        setUserName(data.userName);\n        setEmail(data.email);\n        setAbout(data.about);\n        setCreatedAt(formatDate(new Date(data.createdAt)));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    if (userName == 'default') get();\n  }, []);\n\n  var onSubmit = function onSubmit() {\n    if (userName.length == 0) {} else {\n      fetch('http://localhost:5000/api/v1.0.0/user/modifyAccount', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'authentication-token': getToken\n        },\n        body: JSON.stringify({\n          userName: userName,\n          about: about\n        })\n      }).then(function (res) {\n        if (res.status != 200) {\n          setMessage('The provided information cannot be saved');\n          setColor(Colours.Red.Error);\n        } else {\n          setMessage('Account has been successfully updated.');\n          setColor(Colours.Green.Selected);\n          res.json().then(function (data) {\n            setUserName(data.userName);\n            setAbout(data.about);\n          });\n        }\n      }).then(function () {\n        var _popup$current;\n\n        (_popup$current = popup.current) == null ? void 0 : _popup$current.togglePopup();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n\n  var SubmitButton = function SubmitButton(props) {\n    return React.createElement(View, {\n      style: styles.submitButtonPosition,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 4\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: styles.submitButton,\n      onPress: function onPress() {\n        return props.submit();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      style: [styles.submitButtonText, {\n        fontWeight: '900'\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 6\n      }\n    }, \"SUBMIT\")));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(SafeAreaView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, React.createElement(MenuHeader, {\n    text: \"Account  \",\n    navigation: props.navigation,\n    right: React.createElement(React.Fragment, null, React.createElement(ImageBackground, {\n      style: {\n        width: Dimensions.get('screen').width * 0.1,\n        height: Dimensions.get('screen').width * 0.1,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      source: require(\"../resources/images/Background.png\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, React.createElement(Image, {\n      style: {\n        width: Dimensions.get('screen').width * 0.08,\n        height: Dimensions.get('screen').width * 0.08,\n        margin: Dimensions.get('screen').width * 0.02\n      },\n      source: require(\"../resources/images/Account.png\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 10\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 6\n    }\n  })), React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitle, styles.text, {\n      fontWeight: '900'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, \"Username\"), React.createElement(TextInput, {\n    onFocus: function onFocus() {\n      return setFocused(true);\n    },\n    onBlur: function onBlur() {\n      return setFocused(false);\n    },\n    value: userName,\n    style: [styles.textInput, styles.text, userFocused ? styles.textInputSelected : null],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitle, styles.text, {\n      fontWeight: '900'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, \"Email\"), React.createElement(Text, {\n    style: [styles.textInput, styles.text],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, email)), React.createElement(View, {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitle, styles.text, {\n      fontWeight: '900'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, \"About\"), React.createElement(TextInput, {\n    onChangeText: function onChangeText(text) {\n      return setAbout(text);\n    },\n    value: about,\n    style: styles.textMultiInput,\n    multiline: true,\n    numberOfLines: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 6\n    }\n  }, React.createElement(Text, {\n    style: [styles.textTitle, styles.text, {\n      fontWeight: '900'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }, \"Account Created On\"), React.createElement(Text, {\n    style: [styles.textInput, styles.text],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, createdAt)), React.createElement(SubmitButton, {\n    submit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 6\n    }\n  }))), React.createElement(BottomPopup, {\n    ref: popup,\n    color: color,\n    text: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 4\n    }\n  }));\n}\n\nexport default ProfileEdit;","map":{"version":3,"sources":["C:/Users/katri/OneDrive/Documents/GitHub/HabiPets/src/frontend/screens/Profile.js"],"names":["React","useEffect","useContext","profileStyles","MenuHeader","AuthContext","useTheme","BottomPopup","Colours","ProfileEdit","props","popup","useRef","useState","userName","setUserName","email","setEmail","about","setAbout","createdAt","setCreatedAt","error","setError","message","setMessage","userFocused","setFocused","Red","Error","color","setColor","getToken","colors","styles","Dimensions","get","width","height","formatDate","date","getMonth","getDate","getFullYear","fetch","method","headers","then","res","json","data","Date","catch","err","console","log","onSubmit","length","body","JSON","stringify","status","Green","Selected","current","togglePopup","SubmitButton","submitButtonPosition","submitButton","submit","submitButtonText","fontWeight","navigation","alignItems","justifyContent","require","margin","container","formContainer","textTitle","text","textInput","textInputSelected","textMultiInput"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from 'react';\r\nimport {\r\n\tView,\r\n\tText,\r\n\tTouchableOpacity,\r\n\tDimensions,\r\n\tTextInput,\r\n\tSafeAreaView,\r\n\tImage,\r\n\tImageBackground,\r\n} from 'react-native';\r\nimport profileStyles from '../styling/Profile';\r\nimport MenuHeader from '../components/MenuHeader';\r\nimport { AuthContext } from '../Context';\r\nimport { useTheme } from '@react-navigation/native';\r\nimport BottomPopup from '../components/BottomPopup';\r\nimport Colours from '../resources/themes/Colours';\r\n\r\nfunction ProfileEdit(props) {\r\n\tlet popup = React.useRef();\r\n\r\n\tconst [userName, setUserName] = React.useState('default');\r\n\tconst [email, setEmail] = React.useState('');\r\n\tconst [about, setAbout] = React.useState('');\r\n\tconst [createdAt, setCreatedAt] = React.useState('');\r\n\tconst [error, setError] = React.useState('');\r\n\tconst [message, setMessage] = React.useState('');\r\n\tconst [userFocused, setFocused] = React.useState(false);\r\n\tconst [color, setColor] = React.useState(Colours.Red.Error);\r\n\r\n\tconst { getToken } = useContext(AuthContext);\r\n\tconst { colors } = useTheme();\r\n\t//let styles= profileStyles(Dimensions.get('screen').width, Dimensions.get('screen').height, colors)\r\n\r\n\tlet styles = profileStyles(\r\n\t\tcolors,\r\n\t\tDimensions.get('screen').width,\r\n\t\tDimensions.get('screen').height,\r\n\t);\r\n\r\n\tfunction formatDate(date) {\r\n\t\treturn (\r\n\t\t\tdate.getMonth() + 1 + '/' + date.getDate() + '/' + date.getFullYear()\r\n\t\t);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst get = () => {\r\n\t\t\tfetch('http://localhost:5000/api/v1.0.0/user/viewAccount', {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t'authentication-token': getToken,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then((res) => res.json())\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tsetUserName(data.userName);\r\n\t\t\t\t\tsetEmail(data.email);\r\n\t\t\t\t\tsetAbout(data.about);\r\n\t\t\t\t\tsetCreatedAt(formatDate(new Date(data.createdAt)));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t};\r\n\r\n\t\tif (userName == 'default') get();\r\n\t}, []);\r\n\r\n\tconst onSubmit = () => {\r\n\t\tif (userName.length == 0) {\r\n\t\t\t//setError(\"Username cannot be empty.\")\r\n\t\t\t//popup.current?.togglePopup();\r\n\t\t} else {\r\n\t\t\tfetch('http://localhost:5000/api/v1.0.0/user/modifyAccount', {\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t'authentication-token': getToken,\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tuserName: userName,\r\n\t\t\t\t\tabout: about,\r\n\t\t\t\t}),\r\n\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.status != 200) {\r\n\t\t\t\t\t\tsetMessage('The provided information cannot be saved');\r\n\t\t\t\t\t\tsetColor(Colours.Red.Error);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetMessage('Account has been successfully updated.');\r\n\t\t\t\t\t\tsetColor(Colours.Green.Selected);\r\n\t\t\t\t\t\tres.json().then((data) => {\r\n\t\t\t\t\t\t\tsetUserName(data.userName);\r\n\t\t\t\t\t\t\tsetAbout(data.about);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tpopup.current?.togglePopup();\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t}\r\n\t};\r\n\r\n\tconst SubmitButton = (props) => {\r\n\t\treturn (\r\n\t\t\t<View style={styles.submitButtonPosition}>\r\n\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\tstyle={styles.submitButton}\r\n\t\t\t\t\tonPress={() => props.submit()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Text style={[styles.submitButtonText, { fontWeight: '900' }]}>\r\n\t\t\t\t\t\tSUBMIT\r\n\t\t\t\t\t</Text>\r\n\t\t\t\t</TouchableOpacity>\r\n\t\t\t</View>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<SafeAreaView>\r\n\t\t\t\t<View>\r\n\t\t\t\t\t<MenuHeader\r\n\t\t\t\t\t\ttext='Account  '\r\n\t\t\t\t\t\tnavigation={props.navigation}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<ImageBackground\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: Dimensions.get('screen').width * 0.1,\r\n\t\t\t\t\t\t\t\t\t\theight: Dimensions.get('screen').width * 0.1,\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsource={require('../resources/images/Background.png')}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: Dimensions.get('screen').width * 0.08,\r\n\t\t\t\t\t\t\t\t\t\t\theight: Dimensions.get('screen').width * 0.08,\r\n\t\t\t\t\t\t\t\t\t\t\tmargin: Dimensions.get('screen').width * 0.02,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tsource={require('../resources/images/Account.png')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ImageBackground>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t\t<View style={styles.container}>\r\n\t\t\t\t\t<View style={styles.formContainer}>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={[styles.textTitle, styles.text, { fontWeight: '900' }]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tUsername\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\tonFocus={() => setFocused(true)}\r\n\t\t\t\t\t\t\tonBlur={() => setFocused(false)}\r\n\t\t\t\t\t\t\tvalue={userName}\r\n\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\tstyles.textInput,\r\n\t\t\t\t\t\t\t\tstyles.text,\r\n\t\t\t\t\t\t\t\tuserFocused ? styles.textInputSelected : null,\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.formContainer}>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={[styles.textTitle, styles.text, { fontWeight: '900' }]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<Text style={[styles.textInput, styles.text]}>{email}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.formContainer}>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={[styles.textTitle, styles.text, { fontWeight: '900' }]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAbout\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\tonChangeText={(text) => setAbout(text)}\r\n\t\t\t\t\t\t\tvalue={about}\r\n\t\t\t\t\t\t\tstyle={styles.textMultiInput}\r\n\t\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\t\tnumberOfLines={5}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View style={styles.formContainer}>\r\n\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\tstyle={[styles.textTitle, styles.text, { fontWeight: '900' }]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAccount Created On\r\n\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t<Text style={[styles.textInput, styles.text]}>{createdAt}</Text>\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<SubmitButton submit={onSubmit} />\r\n\t\t\t\t</View>\r\n\t\t\t</SafeAreaView>\r\n\t\t\t<BottomPopup ref={popup} color={color} text={message} />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ProfileEdit;\r\n"]},"metadata":{},"sourceType":"module"}